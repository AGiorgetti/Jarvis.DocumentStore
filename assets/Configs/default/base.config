{
    "roles": {
        "api": true,
        "worker": true,
        "projections": true,
		"queueManager" : true,
		"jobMode" : "queue"
    },
	"jobsManagement" : {
		"windowVisible" : true
	},
	"queues" : {
		"stream-poll-interval-ms" : 1000,
		"jobs-poll-interval-ms" : 1000,
	    "list" : [
			{
			    //Tika wants every format except if it comes from office pipeline
				"name" : "tika",
				//"pipeline" : "^(?!office$).*"
				"pipeline" : "original|htmlzip", //htmlZip pipeline generates pdf from zip.
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			},
			{
			    //pdfThumbnail pipeline accepts every format of extension pdf
				"name" : "pdfThumb",
				"extensions" : "pdf",
				"parameters" : {
					"thumb_format" : "png"
				},
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			},
			{
			    //resize image pipeline accepts every format of extension pdf
				"name" : "imgResize",
				"pipeline" : "^(?!img$).*", //avoid recursion.
				"extensions" : "png|jpg|gif|jpeg",
				"parameters" : {
					"thumb_format" : "png",
					"sizes" : "small:200x200|large:800x800"
				},
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			},
			{
			    //office pipeline accepts a predetermined set of extension
				"name" : "office",
				"extensions" : "xls|xlsx|docx|doc|ppt|pptx|pps|ppsx|rtf|odt|ods|odp",
				"maxNumberOfFailure" : 3,
				"JobLockTimeout" : 2,
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			},
			{
			    //htmlzip pipeline accepts a predetermined set of extension
				"name" : "htmlzip",
				"extensions" : "htmlzip|ezip",
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			},
			{
			    //email pipeline accepts a predetermined set of extension
				"name" : "email",
				"extensions" : "eml|msg",
				"pollersInfo" : 
				[
					{ "name" : "OutOfProcessBaseJobManager", 'parameters' : {'location' : 'JobsRunner\\Jarvis.DocumentStore.Jobs.exe'}}
				]
			}
		]
	},
    "tenants": ["docs", "demo"],
    "connectionStrings": {
        "ds-quartz": "mongodb://localhost/ds-quartz",
		"ds-queues": "mongodb://localhost/ds-queues",
        "docs": {
            "originals": "mongodb://localhost/ds-docs-ori-fs",
            "artifacts": "mongodb://localhost/ds-docs-art-fs",
            "system": "mongodb://localhost/ds-docs",
            "events": "mongodb://localhost/ds-docs",
            "readmodel": "mongodb://localhost/ds-docs"
        },
        "demo": {
            "originals": "mongodb://localhost/ds-demo-ori-fs",
            "artifacts": "mongodb://localhost/ds-demo-art-fs",
            "system": "mongodb://localhost/ds-demo",
            "events": "mongodb://localhost/ds-demo",
            "readmodel": "mongodb://localhost/ds-demo"
        }
    }
}